{"version":3,"sources":["all.js"],"names":["route","token","allProduct_ul","document","querySelector","allProductType_btn","cartList_ul","clearAllCart_btn","allProductRender","cartListRender","axios","get","then","res","allProductStr","data","map","item","innerHTML","err","console","log","cartListStr","addToCart","e","post","productId","target","id","quantity","clearAllCart","window","location","reload","addEventListener","value","type","productSelect"],"mappings":"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","file":"all.js","sourcesContent":["// ! API-route\nconst route = `rocket-frank`;\n// ! API-token\nconst token = `xWFBP5xYVHNDhUnNY6F5oYdQSIB3`;\n// // ! 暫存產品列表data\n// let allProductData = [];\n// // ! 暫存購物車列表data\n// let cartListData = [];\n\n// DOM-全部產品列表的ul\nconst allProduct_ul = document.querySelector(`#allProduct`);\n// DOM-全部產品列表的選單按鈕\nconst allProductType_btn = document.querySelector(\"#allProductType\");\n// DOM-購物車列表的ul\nconst cartList_ul = document.querySelector(`#cartList`);\n// DOM-清空購物車的btn\nconst clearAllCart_btn = document.querySelector(`#clearAllCart_btn`);\n\nallProductRender();\ncartListRender();\n\n// 函式 => 初始化渲染全部產品\nfunction allProductRender() {\n  // * 撈取所有產品資料\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/products`\n    )\n    .then((res) => {\n      let allProductStr = ``;\n      res.data[\"products\"].map((item) => {\n        allProductStr += `<li class=\"flex items-center\">\n        <p class=\"min-w-[300px]\">${item[\"title\"]}</p>\n        <input\n        id=${item[\"id\"]}\n        class=\"btn btn-hover addToCartBtn\"\n        type=\"button\"\n        value=\"加入購物車\"\n      />`;\n        allProduct_ul.innerHTML = allProductStr;\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// 函式 => 初始化渲染購物車列表\nfunction cartListRender() {\n  // * 撈取購物車列表資料\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/carts`\n    )\n    .then((res) => {\n      let cartListStr = ``;\n      res.data[\"carts\"].map((item) => {\n        console.log(1);\n        cartListStr += `<li class=\"flex items-center\"><p class=\"min-w-[300px]\">${item[\"product\"][\"title\"]}</p><input cart_id=${item[\"id\"]} class=\"btn btn-hover\" type=\"button\" value=\"刪除商品\" /></li>`;\n        cartList_ul.innerHTML = cartListStr;\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// 函式 => 加入購物車\nfunction addToCart(e) {\n  // * 撈取購物車列表資料\n  axios\n    .post(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/carts\n`,\n      {\n        data: {\n          productId: `${e.target.id}`,\n          quantity: 5,\n        },\n      }\n    )\n    .then((res) => {\n      console.log(e.target.id);\n      cartListRender();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n//函式 => 清空購物車\nfunction clearAllCart() {\n  axios\n    .delete(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/carts\n  `\n    )\n    .then((res) => {\n      // cartListRender() => //? 按按鈕後不會重新渲染\n      window.location.reload(); // !因為不會重新渲染，所以重新整理\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// 監聽 => 全部產品類別選擇\nallProductType_btn.addEventListener(\"change\", (e) => {\n  // console.log(e.target.value);\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/products`\n    )\n    .then((res) => {\n      let allProductStr = ``;\n      res.data[\"products\"].map((item) => {\n        console.log(item[\"category\"]);\n        if (e.target.value === item[\"category\"]) {\n          allProductStr += `<li class=\"flex items-center\">\n          <p class=\"min-w-[300px]\">${item[\"title\"]}</p>\n          <input\n          id=${item[\"id\"]}\n          class=\"btn btn-hover addToCartBtn\"\n          type=\"button\"\n          value=\"加入購物車\"\n        />`;\n          allProduct_ul.innerHTML = allProductStr;\n        } else if (e.target.value === \"全部\") {\n          allProductRender();\n        }\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n});\n// 監聽 => 加入購物車按鈕\nallProduct_ul.addEventListener(\"click\", (e) => {\n  if (e.target.type === \"button\") {\n    console.log(\"點到了按鈕\");\n    addToCart(e);\n  } else {\n    return;\n  }\n});\n// 監聽 => 清空購物車按鈕\nclearAllCart_btn.addEventListener(\"click\", (e) => {\n  clearAllCart();\n});\n\nfunction productSelect() {\n  // * 撈取所有產品資料\n}\n"]}