{"version":3,"sources":["all.js"],"names":["route","token","allProduct_ul","document","querySelector","cartList_ul","allProductRender","cartListRender","axios","get","then","res","allProductStr","data","map","item","innerHTML","err","console","log","cartListStr","addEventListener","e","target","type","addToCart","post","productId","id","quantity"],"mappings":";;AAAA;AACA,IAAMA,KAAK,iBAAX,C,CACA;;AACA,IAAMC,KAAK,iCAAX,C,CACA;AACA;AACA;AACA;AAEA;;AACA,IAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAT,eAAtB,C,CACA;;AACA,IAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,aAApB;AACAE,gBAAgB;AAChBC,cAAc,G,CAEd;;AACA,SAASD,gBAAT,GAA4B;AAC1B;AACAE,EAAAA,KAAK,CACFC,GADH,kEAE8DT,KAF9D,gBAIGU,IAJH,CAIQ,UAACC,GAAD,EAAS;AACb,QAAIC,aAAa,KAAjB;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,UAAT,EAAqBC,GAArB,CAAyB,UAACC,IAAD,EAAU;AACjCH,MAAAA,aAAa,mFACcG,IAAI,CAAC,OAAD,CADlB,8CAGRA,IAAI,CAAC,IAAD,CAHI,wIAAb;AAQAb,MAAAA,aAAa,CAACc,SAAd,GAA0BJ,aAA1B;AACD,KAVD;AAWD,GAjBH,WAkBS,UAACK,GAAD,EAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GApBH;AAqBD,C,CAED;;;AACA,SAASV,cAAT,GAA0B;AACxB;AACAC,EAAAA,KAAK,CACFC,GADH,kEAE8DT,KAF9D,aAIGU,IAJH,CAIQ,UAACC,GAAD,EAAS;AACb,QAAIS,WAAW,KAAf;AACAT,IAAAA,GAAG,CAACE,IAAJ,CAAS,OAAT,EAAkBC,GAAlB,CAAsB,UAACC,IAAD,EAAU;AAC9BG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAAC,IAAD,CAAhB;AACAK,MAAAA,WAAW,yEAA8DL,IAAI,CAAC,SAAD,CAAJ,CAAgB,OAAhB,CAA9D,gCAA4GA,IAAI,CAAC,IAAD,CAAhH,wFAAX;AACAV,MAAAA,WAAW,CAACW,SAAZ,GAAwBI,WAAxB;AACD,KAJD;AAKD,GAXH,WAYS,UAACH,GAAD,EAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAdH;AAeD,C,CAED;AAEA;;;AAEAf,aAAa,CAACmB,gBAAd,CAA+B,OAA/B,EAAwC,UAACC,CAAD,EAAO;AAC7C,MAAIA,CAAC,CAACC,MAAF,CAASC,IAAT,KAAkB,QAAtB,EAAgC;AAC9BN,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAM,IAAAA,SAAS,CAACH,CAAD,CAAT;AACD,GAHD,MAGO;AACL;AACD;AACF,CAPD;;AASA,SAASG,SAAT,CAAmBH,CAAnB,EAAsB;AACpB;AACAd,EAAAA,KAAK,CACFkB,IADH,kEAE8D1B,KAF9D,eAII;AACEa,IAAAA,IAAI,EAAE;AACJc,MAAAA,SAAS,YAAKL,CAAC,CAACC,MAAF,CAASK,EAAd,CADL;AAEJC,MAAAA,QAAQ,EAAE;AAFN;AADR,GAJJ,EAWGnB,IAXH,CAWQ,UAACC,GAAD,EAAS;AACbO,IAAAA,OAAO,CAACC,GAAR,CAAYG,CAAC,CAACC,MAAF,CAASK,EAArB;AACArB,IAAAA,cAAc;AACf,GAdH,WAeS,UAACU,GAAD,EAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAjBH;AAkBD","file":"all.js","sourcesContent":["// ! API-route\nconst route = `rocket-frank`;\n// ! API-token\nconst token = `xWFBP5xYVHNDhUnNY6F5oYdQSIB3`;\n// // ! 暫存產品列表data\n// let allProductData = [];\n// // ! 暫存購物車列表data\n// let cartListData = [];\n\n// DOM-全部產品列表的ul\nconst allProduct_ul = document.querySelector(`#allProduct`);\n// DOM-購物車列表的ul\nconst cartList_ul = document.querySelector(`#cartList`);\nallProductRender();\ncartListRender();\n\n// 初始化渲染全部產品\nfunction allProductRender() {\n  // * 撈取所有產品資料\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/products`\n    )\n    .then((res) => {\n      let allProductStr = ``;\n      res.data[\"products\"].map((item) => {\n        allProductStr += `<li class=\"flex items-center\">\n        <p class=\"min-w-[300px]\">${item[\"title\"]}</p>\n        <input\n        id=${item[\"id\"]}\n        class=\"btn btn-hover addToCartBtn\"\n        type=\"button\"\n        value=\"加入購物車\"\n      />`;\n        allProduct_ul.innerHTML = allProductStr;\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// 初始化渲染購物車列表\nfunction cartListRender() {\n  // * 撈取購物車列表資料\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/carts`\n    )\n    .then((res) => {\n      let cartListStr = ``;\n      res.data[\"carts\"].map((item) => {\n        console.log(item['id']);\n        cartListStr += `<li class=\"flex items-center\"><p class=\"min-w-[300px]\">${item[\"product\"][\"title\"]}</p><input cart_id=${item['id']} class=\"btn btn-hover\" type=\"button\" value=\"刪除商品\" /></li>`;\n        cartList_ul.innerHTML = cartListStr;\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// function cartListRender() {\n\n// }\n\nallProduct_ul.addEventListener(\"click\", (e) => {\n  if (e.target.type === \"button\") {\n    console.log(\"點到了按鈕\");\n    addToCart(e);\n  } else {\n    return;\n  }\n});\n\nfunction addToCart(e) {\n  // * 撈取購物車列表資料\n  axios\n    .post(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${route}/carts\n`,\n      {\n        data: {\n          productId: `${e.target.id}`,\n          quantity: 5,\n        },\n      }\n    )\n    .then((res) => {\n      console.log(e.target.id);\n      cartListRender();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n"]}